# hooks로 컴포넌트 개선하기

- useEffect : 렌더링이 끝난 다음에 발생하는 함수

  - 렌더링은 앱이 처음 적재될 대 일어나고, props나 state 값이 변경될 때 일어난다
    .
  - 렌더링이 끝난다음 무엇인가 하고싶다면 => useEffect를 사용해보자
  - 컴포넌트가 UI렌더링 외에 수행해야하는 일을 effect라고 부른다.

- useMemo : 메모화된 값을 계산하는 함수를 호출

  - 메모화된 함수는 함수 호출 결과를 저장하고 캐시한다.
  - 캐시된 값과 계산된 값을 비교해서 실제값이 변경됐는지 검사

- useCallback : 값대신 함수를 메모화

  - 렌더링 될 때마다 함사가 새로 생산되는 것을 방지

<br>

- 의존 관계 배열

  - useEffect, useCallback, useMemo 의 두번째 인자로 들어가는 배열
  - 구체적인 데이터 변경과 연동 시킬 때 사용

- useEffect에서 빈 의존관계 배열 삽입시 초기 렌더링 직후 이펙트가 단 한번만 호출

- useMemo에서 빈 의존관계 배열 삽입시 렌더링이 일어날 때마다 값을 재계산
- useCallback : 빈 의존관계 배열 삽입시 첫 렌더링시 한번만 호출

<br>

- 이벤트 발생 순서

  1. 렌더링
  2. useLayoutEffect 호출
  3. 브라우저의 화면 그리기
  4. useEffect 호출

- useLayoutEffect : 브라우저가 화면을 그리기전에 정보를 얻어야 할 때 사용

<br>

- 컴포넌트 성능 개선
  - 불필요한 렌더링을 피하고 렌더링이 전파되는데 걸리는 시간을 줄이는 활동
  - 순수 컴포넌트 : 같은 프로퍼티에 대해 항상 같은 출력으로 렌더링되는 컴포넌트
  - memo함수를 이용하여 프로터피가 변경될 때만 다시 렌더링되는 컴포넌트로 만든다
    .

<br>

- 리팩토링
  - 최적화를 위한 리팩토링은 개발 단계의 마지막에 실행한다.
  - uesCall, useMemo를 아무데서나 사용하면 오히려 성능 저하 발생
